<app-organizationheader></app-organizationheader>
<div class="inner-ban">
    <img src="assets/images/inner-ban.jpg" alt="">
</div>
<div class="registraion-page">
    <div class="container">
        <div class="col-md-12 text-center">
            <h2>upload your fest</h2>
        </div>
        <div class="col-md-6"></div>
        <div class="col-md-6"></div>
        <div class="clearfix"></div>
        <form [formGroup]="festForm" (ngSubmit)="onFestSubmit()">
                <div class="form-group">
                        <div class="col-md-4">
                            <label>Fest Type</label>
                        </div>
                        <div class="col-md-8">
                            <select placeholder="Select Fest Type" formControlName="fest_type" class="form-control" [ngClass]="{ 'is-invalid': submitted && e.fest_type.errors }" required>
                                <option value="" disabled selected hidden>Select Fest Type</option>
                                <option value="Annual">Annual</option>
                                <option value="Cultural">Cultural</option>
                                <option value="Commerce">Commerce</option>
                                <option value="Tech">Tech</option>
                                <option value="Dance">Dance</option>
                                <option value="Conference">Conference</option>
                                <option value="Entrepreneurship">Entrepreneurship</option>
                                <option value="Literary">Literary</option>
                                <option value="Media">Media</option>
                                <option value="Mun">Mun</option>
                            </select>
                            <div *ngIf="submitted && e.fest_type.errors" class="invalid-feedback">
                                <div *ngIf="e.fest_type.errors.required" class="alert alert-danger">Fest type is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Name of Fest *</label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Fest Name" formControlName="name" [ngClass]="{ 'is-invalid': submitted && e.name.errors }"/>
                    <div *ngIf="submitted && e.name.errors" class="invalid-feedback">
                        <div *ngIf="e.name.errors.required" class="alert alert-danger">Name is required</div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Display Picture * </label>
                </div>
                <div class="col-md-8">
                <!-- <div class="fileUpload btn btn-default col-md-8"> 
                    <span>Choose/Drag file</span>                           -->
                    <input type="file" accept="image/x-png,image/gif,image/jpeg" (change)="onChange($event)" class="form-control upload"
                        name="image" formControlName="image" [ngClass]="{ 'is-invalid': submitted && e.image.errors }"
                        required />                   
                    <canvas width="300" id="display" height="300" style="display: none;"></canvas>
                    <div *ngIf="submitted && e.image.errors" class="invalid-feedback">
                        <div *ngIf="e.image.errors.required" class="alert alert-danger">Fest Pic Upload is Required</div>
                    </div>
                </div>
            </div>           
            <div class="clearfix"></div>
            
            <div class="form-group">
                <div class="col-md-4">
                    <label>Description *</label>
                </div>
                <div class="col-md-8">
                    <textarea rows="5" class="form-control" placeholder="Enter Description" formControlName="description"
                        [ngClass]="{ 'is-invalid': submitted && e.description.errors }" required ></textarea>
                    <div *ngIf="submitted && e.description.errors" class="invalid-feedback">
                        <div *ngIf="e.description.errors.required" class="alert alert-danger">Description is required</div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Date of Fest * </label>
                </div>
                <!-- <div class="col-md-3">
                    <input type="date" class="form-control" (keydown)="onKeydown($event)" placeholder=""
                        formControlName="start_date" [ngClass]="{ 'is-invalid': submitted && e.start_date.errors }"
                        required />
                    <div *ngIf="submitted && e.start_date.errors" class="invalid-feedback">
                        <div *ngIf="e.start_date.errors.required" class="alert alert-danger"> Start Date is Required</div>
                    </div>
                </div> -->
                <div class="col-md-3">
<<<<<<< HEAD
                    <input type="text" class="form-control" (keydown)="onKeydown($event)" placeholder="Enter Date" bsDatepicker [bsConfig]="bsConfig"
=======
                    <input type="text" class="form-control" (keydown)="onKeydown($event)" placeholder="Enter Date" [(ngModel)]="modelStartDate" bsDatepicker [bsConfig]="bsConfig"
>>>>>>> 83ac88f032d081b929a17bc7d04eb48bd31ae847
                        formControlName="start_date" [ngClass]="{ 'is-invalid': submitted && e.start_date.errors }"
                        required />
                    <div *ngIf="submitted && e.start_date.errors" class="invalid-feedback">
                        <div *ngIf="e.start_date.errors.required" class="alert alert-danger"> Start Date is Required</div>
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <label>to * </label>
                </div>
                <div class="col-md-3">
<<<<<<< HEAD
                    <input type="text" class="form-control" (keydown)="onKeydown($event)" placeholder="Enter Date" bsDatepicker [bsConfig]="bsConfig"
=======
                    <input type="text" class="form-control" (keydown)="onKeydown($event)" placeholder="Enter Date" [(ngModel)]="modelEndDate" bsDatepicker [bsConfig]="bsConfig"
>>>>>>> 83ac88f032d081b929a17bc7d04eb48bd31ae847
                        formControlName="end_date" [ngClass]="{ 'is-invalid': submitted && e.end_date.errors }"
                        required />
                    <div *ngIf="submitted && e.end_date.errors" class="invalid-feedback">
                        <div *ngIf="e.end_date.errors.required" class="alert alert-danger"> End Date is Required</div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Website (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Website" formControlName="website" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Social Media Pages (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Media Link" formControlName="social_media_pages" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label for="">Upload Promo Video (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="file" accept="video/mp4,video/x-m4v,video/*" (change)="onChange($event)" class="form-control"
                        name="promo_video" placeholder="Upload Video" formControlName="promo_video" />
                    <canvas width="300" height="300" id="provideo" style="display: none;"></canvas>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label for="">Upload thumbnail (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="file" accept="image/x-png,image/gif,image/jpeg" (change)="onChange($event)" name="promo_video_thumbnail"
                        class="form-control" placeholder="" formControlName="promo_video_thumbnail" />
                    <canvas width="300" height="300" id="thumbmail" style="display: none;"></canvas>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>Events</h5>
            </div>

            <div class="form-group" formArrayName="event">
                <div *ngFor="let ctrl of festForm.get('event').controls; let pointIndex=index" [formGroupName]="pointIndex">
                    <div class="col-md-2 " *ngIf="pointIndex>0">
                            <button class="eve" type="button" (click)="deleteEventPoint(pointIndex)">-Remove Event</button>
                            <h4> <span></span><span></span></h4>
                            <hr>
                    </div>
                    <div class="col-md-12">
                            
                                <div class="col-md-2">
                                    <label>Enter event details *</label>
                                </div>
                                
                                <div class="col-md-2">
                                    <select placeholder="Select Event Type" formControlName="event_type" class="form-control" [ngClass]="{ 'is-invalid': submitted && e.event_type?.errors }" required>
                                        <option value="" disabled selected hidden>Select Event Type</option>
                                        <option value="Music">Music</option>
                                        <option value="Dance'">Dance</option>
                                        <option value="Theater">Theater</option>
                                        <option value="Mad Ads">Mad Ads</option>
                                        <option value="Debate">Debate</option>
                                        <option value="Hackathon">Hackathon</option>
                                        <option value="Ted Talk">Ted Talk</option>
                                        <option value="Quiz">Quiz</option>
                                        <option value="Treasure Hunt">Treasure Hunt</option>
                                        <option value="Literary">Literary</option>
                                        <option value="Art and Craft">Art and Craft</option>
                                        <option value="Cooking">Cooking</option>
                                        <option value="Conference">Conference</option>
                                        <option value="Fashion">Fashion</option>
                                        <option value="Singing">Singing</option>
                                        <option value="Entrepreneurship">Entrepreneurship</option>
                                        <option value="Coding">Coding</option>
                                        <option value="Photography">Photography</option>
                                        <option value="Air Crash">Air Crash</option>
                                        <option value="Personality">Personality</option>
                                        <option value="Commerce">Commerce</option>
                                        <option value="Gaming">Gaming</option>
                                        <option value="Other">Other</option>
                                    </select>
                                    <div *ngIf="submitted && e.event_type?.errors" class="invalid-feedback">
                                        <div *ngIf="e.event_type?.errors.required" class="alert alert-danger">Event type is required</div>
                                    </div>
                                </div>                    
                                <div class="col-md-2">
                                    <input type="text" class="form-control" placeholder="Enter Event Name" formControlName="eventName"
                                        [ngClass]="{ 'is-invalid': submitted && e.eventName?.errors }" />
                                    <div *ngIf="submitted && e.eventName?.errors" class="invalid-feedback">
                                        <div *ngIf="e.eventName?.errors.required" class="alert alert-danger"> Event Name is required</div>
                                    </div>

                                </div>
                                <div class="col-md-2">
<<<<<<< HEAD
                                        <input type="text" class="form-control" style="line-height: 1.4em;" (keydown)="onKeydown($event)"  placeholder="Enter Date" formControlName="event_date" bsDatepicker [bsConfig]="bsConfig"
=======
                                        <input type="text" class="form-control" style="line-height: 1.4em;" (keydown)="onKeydown($event)"  placeholder="Enter Date" formControlName="event_date"  [(ngModel)]="modelEventDate" bsDatepicker [bsConfig]="bsConfig"
>>>>>>> 83ac88f032d081b929a17bc7d04eb48bd31ae847
                                            [ngClass]="{ 'is-invalid': submitted && e.event_date?.errors }" required/>
                                        <div *ngIf="submitted && e.event_date?.errors" class="invalid-feedback">
                                            <div *ngIf="e.event_date?.errors.required" class="alert alert-danger"> Event Date is required</div>
                                        </div>
                                </div>
                                <div class="col-md-2">
                                        <input type="text" class="form-control" placeholder="Enter Time" formControlName="event_time"
                                            [ngClass]="{ 'is-invalid': submitted && e.event_time?.errors }" />
                                            <!-- <timepicker [formControlName]="event_time"></timepicker> -->
                                        <div *ngIf="submitted && e.event_time?.errors" class="invalid-feedback">
                                            <div *ngIf="e.event_time?.errors.required" class="alert alert-danger"> Event Time is required</div>
                                        </div>
                                </div>
                                <div class="col-md-2">
                                    <input type="text" class="form-control" placeholder="Enter Ticket Price " formControlName="ticket_price"
                                        [ngClass]="{ 'is-invalid': submitted && e.ticket_price?.errors }" />
                                    <div *ngIf="submitted && e.ticket_price?.errors" class="invalid-feedback">
                                        <div *ngIf="e.ticket_price?.errors.required" class="alert alert-danger"> Event Price is required</div>
                                    </div>
                                </div>
                                <div class="col-md-8 col-xs-12 pull-right">
                                    <input type="text" class="form-control" placeholder="Enter Coordinator's name and phone number" formControlName="event_coordinator"
                                        [ngClass]="{ 'is-invalid': submitted && e.event_coordinator?.errors }" />
                                    <div *ngIf="submitted && e.event_coordinator?.errors" class="invalid-feedback">
                                        <div *ngIf="e.event_coordinator?.errors.required" class="alert alert-danger"> Event Coordinator's name is required</div>
                                    </div>
                                </div>
                                <div class="col-md-8 col-xs-12 pull-right">
                                <textarea rows="5" class="form-control" placeholder="Enter Description and Rules" formControlName="event_description"
                                    [ngClass]="{ 'is-invalid': submitted && e.event_description?.errors }" ></textarea>
                                <div *ngIf="submitted && e.event_description?.errors" class="invalid-feedback">
                                    <div *ngIf="e.event_description?.errors.required" class="alert alert-danger"> Event Description is required</div>
                                </div>
                                </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-2">
                                            <button class="eve" type="button" (click)="addEventPoint()">+Add Event</button>
                                    </div>                                
                                </div>
                </div>
            </div>
                    
                    
                    

                    
                    
                    <!-- <div class="col-md-6">
                            <input type="text" class="form-control" placeholder=" Enter Event Rules" formControlName="rule"
                                [ngClass]="{ 'is-invalid': submitted && e.rule.errors }" />
                            <div *ngIf="submitted && e.rule.errors" class="invalid-feedback">
                                <div *ngIf="e.rule.errors.required"> Event Rule is required</div>
                            </div>
                        </div> -->
                    
                    
                    
                    

            
            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>Sponsors</h5>
            </div>
            <div class="form-group" formArrayName="event_sponser" style="padding:0 15px;">
                <div *ngFor="let ctrlspon of festForm.get('event_sponser').controls; let pointIndex=index" [formGroupName]="pointIndex">
                    <div class="row">
                        <div class="col-md-4">
                            <label>Enter Sponsor Name and Picture</label>
                        </div>
                        
                        
                        <div class="col-md-4">
                            <input type="text" class="form-control" placeholder="Enter Event Sponser Name" formControlName="evtSpnName" />
                            <canvas width="300" height="300" id={{pointIndex}} style="display: none;"></canvas>
                        </div>
                        <div class="col-md-4" id="pic">
                            <input type="file" class="form-control" name="picture" (change)="onChange($event)" placeholder=""
                                formControlName="picture" />
                        </div>
                    </div>
                    <div class="row">         
                        <div class="col-md-4">
                                        <label>Caption (optional)</label>
                        </div>
                        
                        <div class="col-md-8">
                                <input type="text" class="form-control" name="caption" formControlName="caption"/>
                        </div>
                    </div>
                    <div class="row"> 
                    <div class="col-md-2">
                            <button class="eve" type="button" (click)="addSponsorEventPoint()">+Add Sponsor </button>
                    </div>
                    <div class="col-md-2">
                            <button class="eve" type="button" *ngIf="pointIndex>0" (click)="deleteSponsorEventPoint(pointIndex)">-Remove</button>
                    </div>
                    </div>
                
                </div>
            </div>


            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>Fest Manager</h5>
            </div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Primary</label>
                </div>
                <div class="col-md-8">
                    <div class="col-md-2">
                        <label>Name * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Manager Name" formControlName="manager_name"
                            [ngClass]="{ 'is-invalid': submitted && e.manager_name.errors }" required />
                        <div *ngIf="submitted && e.manager_name.errors" class="invalid-feedback">
                            <div *ngIf="e.manager_name.errors.required" class="alert alert-danger"> Manager Name is required</div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <label>Phone * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Manager Phone" formControlName="manager_phone"
                            [ngClass]="{ 'is-invalid': submitted && e.manager_phone.errors }" required />
                        <div *ngIf="submitted && e.manager_phone.errors" class="invalid-feedback">
                            <div *ngIf="e.manager_phone.errors.required" class="alert alert-danger">Manager Mobile No. is required</div>
                        </div>

                    </div>
                    <div class="col-md-2">
                        <label>Email * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Manager Email" formControlName="manager_email"
                            [ngClass]="{ 'is-invalid': submitted && e.manager_email.errors }" required />
                        <div *ngIf="submitted && e.manager_email.errors" class="invalid-feedback">
                            <div *ngIf="e.manager_email.errors.required" class="alert alert-danger">Email is required</div>
                            <div *ngIf="e.manager_email.errors.email" class="alert alert-danger">Email must be a valid email address</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Secondary </label>
                </div>
                <div class="col-md-8">
                    <div class="col-md-2">
                        <label>Name * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Secondary Manager Name"
                            formControlName="sec_manager_name" [ngClass]="{ 'is-invalid': submitted && e.sec_manager_name.errors }"
                            required />
                        <div *ngIf="submitted && e.sec_manager_name.errors" class="invalid-feedback">
                            <div *ngIf="e.sec_manager_name.errors.required" class="alert alert-danger">Manager Name is required</div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <label>Phone * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Secondary Manager Phone"
                            formControlName="sec_manager_phone" [ngClass]="{ 'is-invalid': submitted && e.sec_manager_phone.errors }"
                            required />
                        <div *ngIf="submitted && e.sec_manager_phone.errors" class="invalid-feedback">
                            <div *ngIf="e.sec_manager_phone.errors.required" class="alert alert-danger">Manager Phone No. is required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>account details of manager</h5>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>account holders name * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Account Holder Name" formControlName="account_holder_name"
                        [ngClass]="{ 'is-invalid': submitted && e.account_holder_name.errors }" required />
                    <div *ngIf="submitted && e.account_holder_name.errors" class="invalid-feedback">
                        <div *ngIf="e.account_holder_name.errors.required" class="alert alert-danger">Account Holder Name is required</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>Account No * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Account Number" formControlName="account_number"
                        [ngClass]="{ 'is-invalid': submitted && e.account_number.errors }" required />
                    <div *ngIf="submitted && e.account_number.errors" class="invalid-feedback">
                        <div *ngIf="e.account_number.errors.required" class="alert alert-danger">Account No. is required</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>IFSC * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter IFSC Code" formControlName="ifsc"
                        [ngClass]="{ 'is-invalid': submitted && e.ifsc.errors }" required />
                    <div *ngIf="submitted && e.ifsc.errors" class="invalid-feedback">
                        <div *ngIf="e.ifsc.errors.required" class="alert alert-danger">IFSC is required</div>
                    </div>
                </div>
            </div>

            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>confirm account details</h5>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>Account No * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Confirm Account No" formControlName="confirm_account"
                        [ngClass]="{ 'is-invalid': submitted && e.confirm_account.errors }" required />
                    <div *ngIf="submitted && e.confirm_account.errors" class="invalid-feedback">
                        <div *ngIf="e.confirm_account.errors.required" class="alert alert-danger">Account No is required</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>IFSC * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Confirm IFSC Code" formControlName="confirm_ifsc"
                        [ngClass]="{ 'is-invalid': submitted && e.confirm_ifsc.errors }" required />
                    <div *ngIf="submitted && e.confirm_ifsc.errors" class="invalid-feedback">
                        <div *ngIf="e.confirm_ifsc.errors.required" class="alert alert-danger">Account No is required</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-12">
                    <p>I have read and agreed to the <a href="#">terms & conditions</a>
                        <input class="form-control" type="checkbox" formControlName="checkbox" [ngClass]="{ 'is-invalid': submitted && e.checkbox.errors }"
                            required>
                    </p>
                    <div *ngIf="submitted && e.checkbox.errors" class="invalid-feedback">
                        <div *ngIf="e.checkbox.errors.required" class="alert alert-danger">Please Click on Checkbox</div>
                    </div>
                    <!--<div *ngIf="checkbox?.errors.required" class="invalid-feedback">Please Click on Checkbox</div>-->

                </div>
                <div class="col-md-8">
                    <re-captcha formControlName="recaptchaReactive" required></re-captcha>
                    <div *ngIf="recaptchaReactive?.errors.required" class="invalid-feedback" class="alert alert-danger">Please Check Capcha</div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-12 text-center">
                    <button [disabled]="loading" class="btn btn-primary">submit</button>
                </div>
            </div>
        </form>
    </div>
</div>
