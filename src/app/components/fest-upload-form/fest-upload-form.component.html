<app-organizationheader></app-organizationheader>
<div class="inner-ban">
    <img src="assets/images/inner-ban.jpg" alt="">
</div>
<div class="registraion-page">
    <div class="container">
        <div class="col-md-12 text-center">
            <h2>fest upload form</h2>
        </div>
        <div class="col-md-6"></div>
        <div class="col-md-6"></div>
        <div class="clearfix"></div>
        <form [formGroup]="festForm" (ngSubmit)="onFestSubmit()">
            <div class="form-group">
                <div class="col-md-4">
                    <label>Name of Fest * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Fest Name" formControlName="name"
                        [ngClass]="{ 'is-invalid': submitted && e.name.errors }" required />
                    <div *ngIf="submitted && e.name.errors" class="invalid-feedback">
                        <div *ngIf="e.name.errors.required">Name is required</div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Display Picture * </label>
                </div>
                <div class="col-md-8">
                    <input type="file" accept="image/x-png,image/gif,image/jpeg" (change)="onChange($event)" class="form-control"
                        name="image" formControlName="image" [ngClass]="{ 'is-invalid': submitted && e.image.errors }"
                        required />
                    <canvas width="300" id="display" height="300" style="display: none;"></canvas>
                    <div *ngIf="submitted && e.image.errors" class="invalid-feedback">
                        <div *ngIf="e.image.errors.required">Fest Pic Upload is Required</div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Date of Fest * </label>
                </div>
                <div class="col-md-3">
                    <input type="date" class="form-control" (keydown)="onKeydown($event)" placeholder=""
                        formControlName="start_date" [ngClass]="{ 'is-invalid': submitted && e.start_date.errors }"
                        required />
                    <div *ngIf="submitted && e.start_date.errors" class="invalid-feedback">
                        <div *ngIf="e.start_date.errors.required"> Start Date is Required</div>
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <label>to * </label>
                </div>
                <div class="col-md-3">
                    <input type="date" class="form-control" (keydown)="onKeydown($event)" placeholder=""
                        formControlName="end_date" [ngClass]="{ 'is-invalid': submitted && e.end_date.errors }"
                        required />
                    <div *ngIf="submitted && e.end_date.errors" class="invalid-feedback">
                        <div *ngIf="e.end_date.errors.required"> End Date is Required</div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Website (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Website" formControlName="website" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Social Media Pages (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Media Link" formControlName="social_media_pages" />
                </div>
            </div>
            <div class="clearfix"></div>

            <div class="col-md-12">
                <h5>add new field button</h5>
            </div>
            <div class="form-group">
                <div class="col-md-4">
                    <label for="">Upload Promo Video (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="file" accept="video/mp4,video/x-m4v,video/*" (change)="onChange($event)" class="form-control"
                        name="promo_video" placeholder="Upload Video" formControlName="promo_video" />
                    <canvas width="300" height="300" id="provideo" style="display: none;"></canvas>
                </div>
            </div>
            <div class="clearfix"></div>

            <div class="form-group">
                <div class="col-md-4">
                    <label for="">Upload thumbnail (optional)</label>
                </div>
                <div class="col-md-8">
                    <input type="file" accept="image/x-png,image/gif,image/jpeg" (change)="onChange($event)" name="promo_video_thumbnail"
                        class="form-control" placeholder="" formControlName="promo_video_thumbnail" />
                    <canvas width="300" height="300" id="thumbmail" style="display: none;"></canvas>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group" formArrayName="event">
                <div *ngFor="let ctrl of festForm.get('event').controls; let pointIndex=index" [formGroupName]="pointIndex">
                    <div class="col-md-2">
                        <label>Enter event, rules and ticket price *</label>
                    </div>
                    <div class="col-md-2">
                            <button class="eve" type="button" (click)="addEventPoint()">+Add Event</button>
                        </div>
                    <div class="col-md-2">
                        <input type="text" class="form-control" placeholder="Enter Event Name" formControlName="eventName"
                            [ngClass]="{ 'is-invalid': submitted && e.eventName.errors }" />
                        <div *ngIf="submitted && e.eventName.errors" class="invalid-feedback">
                            <div *ngIf="e.eventName.errors.required"> Event Name is required</div>
                        </div>

                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder=" Enter Event Rule" formControlName="rule"
                            [ngClass]="{ 'is-invalid': submitted && e.rule.errors }" />
                        <div *ngIf="submitted && e.rule.errors" class="invalid-feedback">
                            <div *ngIf="e.rule.errors.required"> Event Name is required</div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <input type="text" class="form-control" placeholder="Enter Ticket Price " formControlName="ticket_price"
                            [ngClass]="{ 'is-invalid': submitted && e.ticket_price.errors }" />
                        <div *ngIf="submitted && e.ticket_price.errors" class="invalid-feedback">
                            <div *ngIf="e.ticket_price.errors.required"> Event Name is required</div>
                        </div>
                    </div>
                    

                </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group" formArrayName="event_sponser" style="padding:0 15px;">
                <div *ngFor="let ctrlspon of festForm.get('event_sponser').controls; let pointIndex=index"
                    [formGroupName]="pointIndex">
                    <div class="form-group row">
                        <div class="col-md-2">
                            <label>Enter Sponsor Name and Picture</label>
                        </div>
                        <div class="col-md-2">
                                <button class="eve" type="button" (click)="addSponsorEventPoint()">+Add Sponsor </button>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control" placeholder="Enter Event Sponser Name" formControlName="evtSpnName" />
                            <canvas width="300" height="300" id={{pointIndex}} style="display: none;"></canvas>
                        </div>
                        <div class="col-md-4" id="pic">
                            <input type="file" class="form-control" name="picture" (change)="onChange($event)" placeholder=""
                                formControlName="picture" />
                        </div>
                    </div>
                    <div class="form-group row">         
                        <div class="col-md-4">
                                        <label>Caption (optional)</label>
                        </div>
                        <div class="col-md-8">
                                <input type="text" class="form-control" name="caption" formControlName="caption"/>
                        </div>
                    </div>
                    
                    
                </div>
            </div>


            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>Fest Manager Details</h5>
            </div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Primary</label>
                </div>
                <div class="col-md-8">
                    <div class="col-md-2">
                        <label>Name * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Manager Name" formControlName="manager_name"
                            [ngClass]="{ 'is-invalid': submitted && e.manager_name.errors }" required />
                        <div *ngIf="submitted && e.manager_name.errors" class="invalid-feedback">
                            <div *ngIf="e.manager_name.errors.required"> Manager Name is required</div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <label>Phone * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Manager Phone" formControlName="manager_phone"
                            [ngClass]="{ 'is-invalid': submitted && e.manager_phone.errors }" required />
                        <div *ngIf="submitted && e.manager_phone.errors" class="invalid-feedback">
                            <div *ngIf="e.manager_phone.errors.required">Manager Mobileno is required</div>
                        </div>

                    </div>
                    <div class="col-md-2">
                        <label>Email * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Manager Email" formControlName="manager_email"
                            [ngClass]="{ 'is-invalid': submitted && e.manager_email.errors }" required />
                        <div *ngIf="submitted && e.manager_email.errors" class="invalid-feedback">
                            <div *ngIf="e.manager_email.errors.required">Email is required</div>
                            <div *ngIf="e.manager_email.errors.email">Email must be a valid email address</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4">
                    <label>Secondary </label>
                </div>
                <div class="col-md-8">
                    <div class="col-md-2">
                        <label>Name * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Secondary Manager Name"
                            formControlName="sec_manager_name" [ngClass]="{ 'is-invalid': submitted && e.sec_manager_name.errors }"
                            required />
                        <div *ngIf="submitted && e.sec_manager_name.errors" class="invalid-feedback">
                            <div *ngIf="e.sec_manager_name.errors.required">Manager Name is required</div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <label>Phone * </label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" placeholder="Enter Secondary Manager Phone"
                            formControlName="sec_manager_phone" [ngClass]="{ 'is-invalid': submitted && e.sec_manager_phone.errors }"
                            required />
                        <div *ngIf="submitted && e.sec_manager_phone.errors" class="invalid-feedback">
                            <div *ngIf="e.sec_manager_phone.errors.required">Manager Phone No is required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>account details of manager for payment</h5>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>account holders name * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Account Holder Name" formControlName="account_holder_name"
                        [ngClass]="{ 'is-invalid': submitted && e.account_holder_name.errors }" required />
                    <div *ngIf="submitted && e.account_holder_name.errors" class="invalid-feedback">
                        <div *ngIf="e.account_holder_name.errors.required">Account Holder Name is required</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>Account No * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Account Number" formControlName="account_number"
                        [ngClass]="{ 'is-invalid': submitted && e.account_number.errors }" required />
                    <div *ngIf="submitted && e.account_number.errors" class="invalid-feedback">
                        <div *ngIf="e.account_number.errors.required">Account No is required</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>IFSC * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter IFSC Code" formControlName="ifsc"
                        [ngClass]="{ 'is-invalid': submitted && e.ifsc.errors }" required />
                    <div *ngIf="submitted && e.ifsc.errors" class="invalid-feedback">
                        <div *ngIf="e.ifsc.errors.required">IFSC is required</div>
                    </div>
                </div>
            </div>

            <div class="clearfix"></div>
            <div class="col-md-12">
                <h5>confirm account detailes</h5>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>Account No * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Confirm Account No" formControlName="confirm_account"
                        [ngClass]="{ 'is-invalid': submitted && e.confirm_account.errors }" required />
                    <div *ngIf="submitted && e.confirm_account.errors" class="invalid-feedback">
                        <div *ngIf="e.confirm_account.errors.required">Account No is required</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-4">
                    <label>IFSC * </label>
                </div>
                <div class="col-md-8">
                    <input type="text" class="form-control" placeholder="Enter Confirm IFSC Code" formControlName="confirm_ifsc"
                        [ngClass]="{ 'is-invalid': submitted && e.confirm_ifsc.errors }" required />
                    <div *ngIf="submitted && e.confirm_ifsc.errors" class="invalid-feedback">
                        <div *ngIf="e.confirm_ifsc.errors.required">Account No is required</div>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <p>i have read and agree to the <a href="#">terms & conditions</a>
                    <input class="form-control" type="checkbox" formControlName="checkbox" [ngClass]="{ 'is-invalid': submitted && e.checkbox.errors }"
                        required>
                </p>
                <div *ngIf="submitted && e.checkbox.errors" class="invalid-feedback">
                    <div *ngIf="e.checkbox.errors.required">Please Click on Checkbox</div>
                </div>
                <!--<div *ngIf="checkbox?.errors.required" class="invalid-feedback">Please Click on Checkbox</div>-->

            </div>
            <div class="col-md-8">
                <re-captcha formControlName="recaptchaReactive" required></re-captcha>
                <div *ngIf="recaptchaReactive?.errors.required" class="invalid-feedback">Please Check Capcha</div>
            </div>
            <div class="form-group">
                <div class="col-md-12 text-center">
                    <button class="btn btn-primary">submit</button>
                </div>

            </div>
        </form>

    </div>
</div>